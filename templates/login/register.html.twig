{% extends 'base.html.twig' %}

{% set page_css = 'registro' %}

{% block title %}Registro{% endblock %}


{% block navbar %}
{% endblock %}


{% block body %}
<div class="container">
    <div class="form-container">
        <div class="form-brand">
            <a href="{{ path('app_inicio') }}" class="form-brand">
                <img src="{{ asset('img/logo.png') }}" alt="Logo" class="form-brand-img">
            </a>
        </div>
        <p class="subtitle">Crea una cuenta para continuar</p>

        {% if error %}
            <div class="error-message" style="color: red; margin-bottom: 15px;">
                {{ error }}
            </div>
        {% endif %}

        <form method="post" action="{{ path('app_register') }}">
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" name="nombre" required class="input"
                       pattern="^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]{2,50}$"
                       title="El nombre solo puede contener letras y espacios (2-50 caracteres)">
            </div>
            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input type="email" id="email" name="email" required class="input"
                       pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                       title="Introduce un correo electrónico válido">
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" required class="input"
                       pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                       title="Mínimo 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial">
            </div>
            <div class="form-group">
                <label for="direccion">Dirección</label>
                <input type="text" id="direccion" name="direccion" required class="input"
                       pattern="^[A-Za-z0-9ÁÉÍÓÚáéíóúÑñ\s\.,\-ºª#]{5,100}$"
                       title="La dirección debe tener entre 5 y 100 caracteres">
            </div>
            <div class="form-group">
                <label for="telefono">Teléfono</label>
                <input type="text" id="telefono" name="telefono" required class="input"
                       pattern="^\d{9}$"
                       title="El teléfono debe tener 9 dígitos">
            </div>
            <button type="submit" class="button">Registrarse</button>
        </form>
        <p class="login-link">
            ¿Ya tienes una cuenta? <a href="{{ path('app_login') }}">Inicia sesión</a>
        </p>
    </div>
</div>
{% endblock %}