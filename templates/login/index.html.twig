{% extends 'base.html.twig' %}

{% set page_css = 'login' %}

{% block title %}Iniciar Sesión{% endblock %}

{% block body %}
<div class="container">
    <video autoplay muted loop class="background-video">
        <source src="{{ asset('video/doner.mp4') }}" type="video/mp4">
        Tu navegador no soporta la reproducción de videos.
    </video>
    <div class="form-container">
        <div class="form-brand">
            <a href="{{ path('app_inicio') }}" class="form-brand">
                <img src="{{ asset('img/logo.png') }}" alt="Logo" class="form-brand-img">
            </a>
        </div>
        <p class="subtitle">Por favor, inicia sesión para continuar</p>
        
        {% if error %}
            <div class="error-message" style="color: red; margin-bottom: 15px;">
                {{ error }}
            </div>
        {% endif %}
        
        <form method="post" action="{{ path('app_login') }}" onsubmit="return validateForm()">
            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input type="email" id="email" name="email" required class="input">
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" required class="input">
            </div>
            <button type="submit" class="button">Iniciar Sesión</button>
        </form>
        <p class="register-link">
            ¿No tienes una cuenta? <a href="#">Regístrate</a>
        </p>
    </div>
</div>

<script>
    function validateForm() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        if (!email || !password) {
            alert('Por favor, completa todos los campos.');
            return false;
        }

        return true;
    }
</script>
{% endblock %}
